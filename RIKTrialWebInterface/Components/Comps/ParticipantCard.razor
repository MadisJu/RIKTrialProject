@using RIKTrialSharedModels.Domain.Returns
@using RIKTrialSharedModels.Domain.Types

<div class="Participant-Card" @onclick="GoToEdit">

    @if (Participant.Type == ParticipantType.PERSON)
    {
        <div class="Participant-Card--Main">
            <span class="Participant-Card--Title">
                @Participant.FirstName @Participant.LastName
            </span>

            <span class="Participant-Card--Sub">
                @Participant.IdNumber
            </span>

            <span class="Participant-Card--Sub">
                @Participant.PaymentMethod.PaymentMethod
            </span>

            <span class="Participant-Card--Sub">
                @Participant.AdditionalInfo
            </span>
        </div>
    }
    else
    {
        <div class="Participant-Card--Main">
            <span class="Participant-Card--Title">
                @Participant.Name
            </span>

            <span class="Participant-Card--Sub">
                @Participant.CompanyCode
                @if (Participant.ParticipantAmount is not null)
                {
                    <span class="extra">
                        (@Participant.ParticipantAmount osalejat)
                    </span>
                }
            </span>

            <span class="Participant-Card--Sub">
                @Participant.PaymentMethod.PaymentMethod
            </span>

            <span class="Participant-Card--Sub">
                @Participant.AdditionalInfo
            </span>
        </div>
        
    }

</div>

@code {

    [Parameter]
    public ParticipantReturnDTO Participant { get; set; } = null!;

    [Inject]
    private NavigationManager Nav { get; set; } = null!;

    private void GoToEdit()
    {
        Nav.NavigateTo($"/participants/{Participant.Id}");
    }
}
